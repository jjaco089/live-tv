<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live TV</title>
    <style>
        /* Add CSS styles here */
    </style>
</head>
<body>
    <h1>Live TV</h1>
    <span>On now: </span><span id="onNow"></span><span id = "today"></span>
    <br><br>
    <span>Up Next: </span><span id="upNext">Coming soon</span><span id = "tomorrow"></span>

    <script>
        window.onload = function() {
        const onNow = document.getElementById('onNow');

        // Display dates    
        const currentDate = new Date().toISOString().split('T')[0];
        document.getElementById('today').innerText = ` [${currentDate} 12 AM - 12 AM]`;
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(today.getDate() + 1);
        const formattedTomorrow = tomorrow.toISOString().split('T')[0];
        document.getElementById('tomorrow').innerText = ` [${formattedTomorrow} 12 AM - 12 AM]`;

        // Fetch the content of data.txt
        fetch('data.txt')
            .then(response => response.text())
            .then(content => {
                const lines = content.split('\n');
                for (let i = 0; i < lines.length; i++) {
                    const nowParts = lines[i].split(';');
                    if (nowParts[0] === currentDate) {
                        onNow.innerText = nowParts[1].trim();
                        const nextParts = lines[i+1].split(';');
                        upNext.innerText = nextParts[1].trim();   
                    }
                }
            })
            .catch(error => {
                onNow.innerText = 'Error loading file: ' + error.message;
            });
        };
    </script>
</body>
</html>
